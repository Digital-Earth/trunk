<!-- Share dialog -->
<modal-dialog ng-if="shareModal.active" stop-propagation="keyup" modal-class="tiny" ng-esc="shareModal.close()">
<h2 class="title">
    <span i18n="Share"></span>
</h2>

<div style="position:relative;width:100%">
    <img ng-src="{{shareModal.screenCapture}}" style="width:100%"></img>
</div>

<div ng-switch on="shareModal.step">
    <div ng-switch-when="setup">
        <div class="form-group" style="margin-bottom:5px;">
            <div style="position: relative">
                <input autofocus type="text" class="form-control" ng-model="shareModal.map.Metadata.Name" i18n-placeholder="Title">
            </div>
        </div>
        <div class="form-group" style="margin-bottom:5px;">
            <div style="position: relative">
                <!-- <input type="password" class="form-control"  ng-model="shareModal.map.Metadata.Description" i18n-placeholder="Description"> -->
                <textarea class="form-control" style="width:100%;height:100px;resize: none;" name="description" ng-model="shareModal.map.Metadata.Description"></textarea>
            </div>
        </div>
        <div class="form-group" style="margin-bottom:5px;">
            <div style="position: relative">
                <input-tags ng-model="shareModal.map.Metadata.Tags" name="tags" min-length="0" max-length="5"></input-tags>        
            </div>
        </div>
        <modal-dialog-buttons style="padding-top: 24px">
            <button class="big gray-hover" ng-click="shareModal.close()"><span i18n="Cancel"></span></button>
            <button class="big gray" type="submit" ng-click="shareModal.commit()"><span i18n="Share"></span></button>
        </modal-dialog-buttons>
    </div>
    <div ng-switch-when="done">
        <div class="form-group" style="margin-bottom:5px;">
            <div>Share this URL</div>
            <div style="position: relative">
                <input type="text" class="form-control" ng-model="shareModal.url" readonly>
				<div class="form-group-hover" style="position:absolute;right:1px;top:1px;bottom:1px;cursor:pointer;width:40px;background-color:rgba(255,255,255,0.9);border-left:1px solid #e5e5e5;padding-top:4px;text-align:center" ng-if="shareModal.urlValid" ng-click="shareModal.copyUrl()">
                	<i class="nc-icon-glyph ui-2_link-72" ></i>
				</div>
            </div>
        </div>
        <modal-dialog-buttons style="padding-top: 24px">
            <button class="big gray" type="submit" ng-click="shareModal.close()"><span i18n="Done"></span></button>
        </modal-dialog-buttons>
    </div>
</div>


</modal-dialog>